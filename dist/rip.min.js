!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Rip",[],t):"object"==typeof exports?exports.Rip=t():e.Rip=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();e.exports=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];n(this,e),this.isValidProperty(t,"scanInterval","number")?this.scanInterval=t.scanInterval:this.scanInterval=150,this.isValidProperty(t,"scanTimeout","number")?this.scanTimeout=t.scanTimeout:this.scanTimeout=6e3,this.isValidProperty(t,"imageSelector","string")?this.imageSelector=t.imageSelector:this.imageSelector=".js-rip-preload",this.isValidProperty(t,"imageLoadedSelector","string")?this.imageLoadedSelector=t.imageLoadedSelector:this.imageLoadedSelector="rip--loaded",this.isValidProperty(t,"onLoad","function")?this.onLoadCallback=t.onLoad:this.onLoadCallback=this.onImageLoad,this.imageElements=null,this.checkInterval=null}return i(e,[{key:"triggerPreloading",value:function(){var e=this,t=Date.now();this.imageElements=[].slice.call(document.querySelectorAll(this.imageSelector)),this.checkInterval=window.setInterval(function(){var n=Date.now()-t;(e.scanImages()===!1||n>=e.scanTimeout)&&e.clearInterval()},this.scanInterval)}},{key:"scanImages",value:function(){for(var e=this.imageElements.length-1;e>=0;e--){var t=this.imageElements[e];t.currentSrc&&(this.preloadImage(t,this.onLoadCallback),this.imageElements.splice(e,1))}return this.imageElements.length>0}},{key:"onImageLoad",value:function(e){e.classList.add(this.imageLoadedSelector)}},{key:"preloadImage",value:function(e,t){var n=this,o=document.createElement("img");o.addEventListener("load",function i(){"function"==typeof t&&t.call&&t.call(n,e),o.removeEventListener("load",i,!1),o=null},!1),o.src=e.currentSrc}},{key:"clearInterval",value:function(){window.clearInterval(this.checkInterval),this.checkInterval=null}},{key:"isValidProperty",value:function(e,t,n){return e.hasOwnProperty(t)&&o(e[t])===n}}]),e}()}])});
//# sourceMappingURL=rip.min.js.map
//# sourceMappingURL=rip.min.js.map